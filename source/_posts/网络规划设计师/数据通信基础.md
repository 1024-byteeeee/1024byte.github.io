---
title: 数据通信基础
date: 2023-5-6 14:40:23
tags: 网络规划设计师
categories: 网络规划设计师
typora-root-url: ..
---

# Ⅰ - 通信指标

## 1.通信基础概念

- 通信的实质就是实现信息的有效传递，它不仅要将有用的信息进行**无失真、高效率的传输**，而且还要在传输的过程中**减少或消除无用信息和有害信息**。

- 数据和信号：

  数据是运送**信息的实体**，而信号则是数据的**电器的或电磁的表现**。无论数据或信号，既可以是模拟的也可以是数字的。所谓“模拟的”就是连续变化的，而“数字的”就表示取值仅允许为有限的几个离散数值。

- 信道：

  信道一般用来表示向某一个方向传送信息的媒体，从通信的双方信息交互的方式看，可以有三种方式： 
  **（1）单工通信：**只有一个方向的通信而没有反方向的交互，仅需要一条信道（如无线电广播、电视广播）。
  **（2）半双工通信：**通信的双方都可以发送消息，但不能同时发送（如集线器）。
  **（3）全双工通信：**通信的双方都可以同时发送和接收信息，通常需要两条信道，（如交换机）。

- 码元：

  数字通信中对数字信号的计量单位采用码元这个概念。一个码元指的是一个固定时常的数字信号波形，该时长称为码元宽度。

- 传输速率：

  （1）码元传输速率：也叫码元速率、符号速率、波形速率等，他表示**单位时间内数字通信系统所传输的码元个数**（符号个数或脉冲个数），单位是波特（Baud）。

- 抖动：

  指在噪声因素的影响下，数字信号的有效瞬间相对于应生成理想时间位置的短时偏离，是数字通信系统中数字信号传输的一种**不稳定现象**。

## 2.网络传输指标

- 传输指标：对网络的**效率和性能进行衡量**。

- 带宽：

  指的是在**一段特定的时间内网络所能传送的比特数**，单位是bit/s。

- 时延：

  时延指的是一个报文或者分组从一个网络一端传到另一段所需的时间，一般情况下由三个部分组成。

  **（1）发送时延** = 报文长度/信道带宽

  **（2）传播时延** = 信道长度/信道传播速率

  **（3）处理时延** = 数据在交换节点上为储存转发而进行一些必要的处理所花费的时间，有时可以忽略。

  **（4）总时延 = 发送时延 + 传播时延 + 处理时延**

  **（5）RTT(Round-Trip Time，往返时延)** 也是一个重要的性能指标，它表示从发送方发送数据开始，到发送方收到来自接收方的确认，总共经历的时延（参考Ping命令）。

- 时延带宽积：

  时延带宽积 = 传播时延 * 带宽，相当于第一个比特到达接收方之前，发送方最多发送的比特数。

- 误码率/误位率：

  指在一定统计时间内，数字信号在传输过程中发生错误的码元/位数与传输的总码元/总位数之比，一般网络要求误码率低于10^-6。

## 3.数据损害

- 传输损害：常见的损害有衰减、延迟变形、噪声。

- 衰减：

  在任何传输介质上的信号强度**随着距离的变长而衰减**。

- 延迟变形：

  延迟变形是有线传输介质独有的现象，它是由传播速率随着频率而变化所引起的，**延迟变形对数字信号的影响最大**。

- 噪声：

  因传输系统造成的各种失真，以及突然产生了不必要的信号而产生了噪声，噪声可分为以下四种。

  **（1）热噪声：**是导体中电子的热震动引起的，它出现在所有的电子设备和传输介质中。

  **（2）内调制杂音：**是当不同频率的信号同时通过一个传输介质时产生。

  **（3）串扰：** 信号通路之间产生了不必要的耦合，例如双绞线之间因电耦合而产生的串扰，也有可能会在运载多个型号的同轴电缆中产生。

  **（4）脉冲噪声：**因意外产生的电磁干扰，如打雷，**主要影响的是数字信号**。

# Ⅱ - 数据编码

## 1.数字通信系统

- 数字通信系统完成信号的**产生、变换、传递及接收**。

- 信源编码：

  把语音、文字、图像等**模拟信号转换为数字信号**及模数转换。

- 信道编码：

  将数字信号转换成与调制方式和传输信道匹配的形式，从而**降低传输误码率，提高传输的可靠性**。

- 调制：

  根据**信道媒质特性**，对编码后的数字信号还要经调制后再送入信道中，如光纤信道中的光调制，无线信道中的**调频、调相、调幅**等。

- 解调、信道解码和信源解码分别是调制、信道编码和信源编码的逆过程。

## 2.非归零码 NRZ-I

- 不归零码（Non-Return to Zero Inverted，NRZ-I）又称差分码。

- 规则:

  出现`1`时翻转电平，出现`0`时电平不变。

- 主要用在终端到调制解调器的接口中。

  ![NRZ-I](/../images/%E7%BD%91%E7%BB%9C%E8%A7%84%E5%88%92%E8%AE%BE%E8%AE%A1%E5%B8%88-%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E5%9F%BA%E7%A1%80/NRZ-I.png)

## 3.MLT-3编码

- 多电平传输码（Multi-Level Transmit -3，MLT-3）。

- 规则：

  （1）如果下一输出为`0`，则电平保持不变。

  （2）如果下一输出为`1`，则产生跳变，但又分为两种情况。

  > （A）如果前一输出为`+1`或`-1`，则下一输出为`0`。
  >
  > （B）如果前一输出为`0`，则下一输出与最近一个非`0`相反。

![MLT-3](/../images/%E7%BD%91%E7%BB%9C%E8%A7%84%E5%88%92%E8%AE%BE%E8%AE%A1%E5%B8%88-%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E5%9F%BA%E7%A1%80/MLT-3.png)

## 4.曼彻斯特编码

- 曼切斯特编码是一种双向码，在每个比特中间均有一个跳变，第一个编码自定义。

- 规则：

  高 -> 低 代表`0`，低 -> 高 代表`1`。

- 曼切斯特编码常用于以太网中。

  ![曼彻斯特编码](/../images/%E7%BD%91%E7%BB%9C%E8%A7%84%E5%88%92%E8%AE%BE%E8%AE%A1%E5%B8%88-%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E5%9F%BA%E7%A1%80/%E6%9B%BC%E5%BD%BB%E6%96%AF%E7%89%B9%E7%BC%96%E7%A0%81.png)

## 5.差分曼切斯特编码

- 差分曼切斯特编码也是一种双向码。

- 规则：

  有跳变表示`0`，无跳变表示`1`**（有0无1）**。

- 不是比较形状，是比较的始末电平，下一个起始电平与上一个终止电平一样表示`1`，有变化表示`0`。

- 根据波形，从第二个电平开始推断。

- 常用于**令牌环网**中。

  ![差分曼彻斯特编码](/../images/%E7%BD%91%E7%BB%9C%E8%A7%84%E5%88%92%E8%AE%BE%E8%AE%A1%E5%B8%88-%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E5%9F%BA%E7%A1%80/%E5%B7%AE%E5%88%86%E6%9B%BC%E5%BD%BB%E6%96%AF%E7%89%B9%E7%BC%96%E7%A0%81.png)

## 6.两种曼码特点与编码效率

- 优点：

  将时钟包含在信号数据流中，也称为**自同步码**。

- 缺点：

  编码效率低，每个码元都要调制为两个不同的电平，所以调制速率是码元速率的两倍，这对信道的贷款提出了更高的要求。

- 4B/5B编码：

- 发送4bit，先用不归零码（NRZ-I），编码成5bit，多一位解决同步问题。

  |   编码类型   | 编码效率 |                   应用场景                   |
  | :----------: | :------: | :------------------------------------------: |
  |   曼彻斯特   |   50%    |                    以太网                    |
  | 差分曼彻斯特 |   50%    |                    令牌环                    |
  |    4B/5B     |   80%    | 百兆以太网<br />（100Base-TX先4B/5B再MLT-3） |
  |    8B/10B    |   80%    |                  千兆以太网                  |
  |   64B/66B    |   97%    |                  万兆以太网                  |

# Ⅲ.调制技术

## 1.数字调制技术

- 将数字信号转换为模拟信号或是把模拟信号转换为更高频率，适合天线发送的模拟信号，称为调制，分为以下四种：

  - 幅度键控（ASK）

    > 特点：高低

    ![ASK](/../images/%E7%BD%91%E7%BB%9C%E8%A7%84%E5%88%92%E8%AE%BE%E8%AE%A1%E5%B8%88-%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E5%9F%BA%E7%A1%80/ASK.png)

  - 频移键控（FSK）

    > 特点：快慢

    ![FSK](/../images/%E7%BD%91%E7%BB%9C%E8%A7%84%E5%88%92%E8%AE%BE%E8%AE%A1%E5%B8%88-%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E5%9F%BA%E7%A1%80/FSK.png)

  - 相移键控（PSK）

    > 特点：形状像ASS

    ![PSK](/../images/%E7%BD%91%E7%BB%9C%E8%A7%84%E5%88%92%E8%AE%BE%E8%AE%A1%E5%B8%88-%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E5%9F%BA%E7%A1%80/PSK.png)

  - 正交幅度调制（QAM）

    > 特点：把两个**幅度相同**但**相位差90°**的模拟信号合成一个模拟信号。

    ![QAM](/../images/%E7%BD%91%E7%BB%9C%E8%A7%84%E5%88%92%E8%AE%BE%E8%AE%A1%E5%B8%88-%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E5%9F%BA%E7%A1%80/QAM.png)

## 2.扩频通信

- 为了提高通信系统的**抗干扰性能**，往往需要从调制和编码多方面入手，扩频通信就是方法之一。

- 扩频通信利用了**扩展频谱技术**，在接收端对干扰频谱能量加以扩展，对信号频谱能量压缩集中，因此在输出端就得到了信噪比的增益。

- 有如下几个技术：

  - 直接序列扩频

  - 跳频 

  - 跳时

  - 线性调频扩频

- WLAN使用的技术是**直接序列扩频和跳频扩频**技术。

# Ⅳ - 信道延迟

## 1.信道延时

- 总延时 = 线路延迟 + 发送延迟
- 线路延迟 = 传输距离/传输速度
- 发送延迟 = 数据帧大小/速率
- 光速为300m/us = 300000km/s
- 电缆中的传播速度为光速的77%，为200m/us = 200000km/s
- 卫星的信道时延约270ms（来回双向）

## 2.以太网报文封装

![以太网报文封装](/../images/%E7%BD%91%E7%BB%9C%E8%A7%84%E5%88%92%E8%AE%BE%E8%AE%A1%E5%B8%88-%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E5%9F%BA%E7%A1%80/%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8A%A5%E6%96%87%E5%B0%81%E8%A3%85.png)

# Ⅴ - 交换方式

## 1.数据交换分类

- 按通信方向分类可分为单工通信、半双工通信、全双工通信。

- 按同步方式分类可分为：

  - 异步传输：

    把各个字符分开传输，在字符之前插入一个起始位`0`，在字符之后插入一位停止位`1`，起始位对接收方的时钟起置位作用，在字符和停止位之间还要插入一位校验位，一般使用奇偶校验，典型的例子为ATM。

  - 同步传输：

    传输数据帧（比特分组）要大得多，不是独立发送每个字符，而是把他们组合起来一起发送，这种组合称之为数据帧，数据帧的第一部分包含同步字符，用于通知接收方一个帧已经达到。帧的最后一部分是一个帧结束标记，典型的粒子为HDLC。

## 2.交换方式

- 数据交换技术分为电路交换、报文交换、分组交换三种。

- 电路交换：

  将数据分为电路建立、数据传输、电路拆除3个过程，在数据传送之前需建立一条物理链路，在线路被释放之前，该通路将一直被用户完全占有（电话）。

- 报文交换：

  报文从发送方传送到接收方采用储存转发的方式，报文中含有每一个小一跳节点，完整的报文在一个个节点之间传送。

- 分组交换又分为两种方式，分别是数据包和虚电路。

## 3.分组交换技术

- 数据报方式（IP）：

  每个分组被独立地处理，每个节点根据一个路由选择算法，为每个分组选择一条路径，使他们的目的地相同。

- 虚电路方式（X.25、FR、ATM）：

  在数据传送之前，先建立起一条逻辑上的连接，每个分组都沿着一条路径传输。

- 分组交换的优点：

  - 减小了延迟，提高了吞吐量

  - 分组交换可以按分组纠错，发现错误只需要发出错的分组，通信效率高。 

# Ⅵ - 复用技术

## 1.多路复用技术

- 多路复用技术是**把多个低速的信道组合成一个高速的信道的技术**。

- 比如光纤入户后可以同时上网、网络电视、电话。

## 2.频分复用技术

- 频分复用技术是**为用户分配不同的频带**，用户在分配到一定的频带后，在通信过程中自始至终都占用这个频带。频分复用的所有用户在同样的时间占用不同的带宽资源（这里的“带宽”是频率带宽而不是数据的发送速率）向外发送数据。

  <bsp/>

## 3.时分复用技术

- 时分复用是采用同一物理连接的不同时段来传输不同的信号，也能达到多路传输的目的。

  <bsp/>

## 4.波分复用

- 波分复用的本质也是频分复用。

  <bsp/>

- 光纤频率与波长关系：光速 = 波长 x 频率。

  <bsp/>

## 5.统计时分复用

- 统计时分多路复用（Statistic TDM，STDM）是一种**改进的时分复用方法**，他能明显地**提高信道的利用率**。

  <bsp/>

- STDM帧**不是固定分配时隙，而是按需动态地分配时隙**。由于用户所占用的时隙并不是周期性地出现，所以在每个时隙中还必须又用户地地址信息，这是统计时分多路复用必须要有的和不可避免地开销。

  <bsp/>

## 6.E1 与 T1

- 美国和日本使用T1标准，每路电话56k

  <bsp/>

> T1 = 56K * **24** + 开销与间隔 = **1.544M**

- 欧洲采用E1标准，每路电话64K，传30路电话，2路开销。

  <bsp/>

> E1 = 64 * **30** + 64K * 2 = **2.048M**

## 7.同步数字序列

|   光纤级   |   STS级   | 链路速Mbps | 有效载荷Mbps | 负载Mbps |  SDH对应  | 常用近似值  |
| :--------: | :-------: | :--------: | :----------: | :------: | :-------: | :---------: |
|   OC - 1   |  STS - 1  |   51.840   |    50.112    |  1.728   |    ---    |             |
| **OC - 3** |  STS - 3  |  155.520   |   150.336    |  5.184   | **STM-1** | **155Mbps** |
|   OC - 9   |  STS - 9  |  466.560   |   451.008    |  15.552  |   STM-3   |             |
|  OC - 12   | STS - 12  |  622.080   |   601.344    |  20.736  |   STM-4   | **622Mbps** |
|  OC - 18   | STS - 18  |  933.120   |   902.016    |  31.104  |   STM-6   |             |
|  OC - 24   | STS - 24  |  1244.160  |   1202.688   |  41.472  |   STM-8   |             |
|  OC - 36   | STS - 36  |  1866.240  |   1804.032   |  62.208  |  STM-13   |             |
|  OC - 48   | STS - 48  |  2488.320  |   2405.376   |  82.944  |  STM-16   | **2.5Gbps** |
|  OC - 96   | STS - 96  |  4976.640  |   4810.752   | 165.888  |  STM-32   |             |
|  OC - 192  | STS - 192 |  9953.280  |   9621.504   | 331.776  |  STM-64   | **10Gbps**  |

# Ⅶ - 奇偶校验

## 1.差错控制

- 数据传输中错误不可避免，需要采用差错控制方法，数据通信中常用的**是检错和纠错。**

- 奇偶校验的原理是在7位ASCII码后添一位，使`1`的个数变为奇数或偶数，从而进行奇校验或偶校验。

- 奇校验：

  如果现有`1`的个数为偶数，那么补一个`1`让总数变为奇数。

- 偶校验：

  如果现有`1`的个数为奇数，那么补一个`1`让总数变为偶数。

# Ⅷ - 循环冗余校验码CRC

- 末尾加入CRC循环冗余校验码能**检错不能纠错**，广泛用于网络通信和磁盘存储。

  <bsp/>

**例题：**

采用CRC进行差错校验，生成多项式为G(X) = X^4 + X + 1，信息码字为10111，则计算出CRC校验码是（  ）。

A：0000		B：0100		C：0010		D：1100

**解题步骤：**

- 1 - 判断校验位数：

  生成多项式的最高次方是几，校验位就是几，根据此题可知有4位检验为。

- 2 - 补齐数据位后面的0：

  10111 **0000**

- 3 - 提取生成多项式的系数：

  G(X) = X^4 + X + 1 = <u>1</u> * X^4 + <u>0</u> * X^3 + <u>0</u> * X^2 + <u>1</u> * X^1 + <u>1</u> * X^0 = 10011

- 4 - 用第二步的结果，除以第三步的结果（异或运算）所得余数就是CRC校验码，余数不够位在前面补`0`。

# Ⅸ - 选择重发ARQ

## 1.检错重发ARQ

- 发送端经信道编码后可以发出具有检错能力的码组，接收端收到后经检测如果发现传输中有错误，则经过反馈信道把这一判断结果反馈给发送方，然后发送端把前面发出的信息重新传送一次，知道接收端认为已经正确为止。

- 常用的检错重发系统有**停等重发、返回重发、选择重发**三种，依赖自动重传ARQ协议（Automatic Repeat Request）。

- **停等ARQ：**

  发送端向接收端发送一个码组，接收端如果未发现错误则发送一个ACK确认信号给发送端，发送端接收到ACK后再发送下一个码组；如果接收端检测出错误，则发送NAK否认信号，发送端接收到NAK后再重发前一个码组，并再次等待ACK或NAK，这种方法**效率不高但工作方式简单**。

- **后退N帧ARQ：**

  发送端不断送出码组，不再等待ACK信号，一旦接收端发现错误并发送NAK，则发送端开始**重发检测出错误的码组以及该错误码组之后的码组**。

- **选择重发ARQ：**

  发送端不断送出码组，接收端发现错误发送NAK信号，发送端**只重发有错误的那一组**，这种重发系统**传输效率最高，但控制最复杂**，通常卫星采用此方式来检错重发。

















